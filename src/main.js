"use strict";(()=>{var E=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var d=(e,t,n)=>new Promise((o,r)=>{var s=a=>{try{i(n.next(a))}catch(m){r(m)}},l=a=>{try{i(n.throw(a))}catch(m){r(m)}},i=a=>a.done?o(a.value):Promise.resolve(a.value).then(s,l);i((n=n.apply(e,t)).next())});var L=E(g=>{function u(e,t=[]){return new Promise((n,o)=>{let r=new Worker("./core-mt/worker.js");r.postMessage({command:e,args:t}),r.onmessage=s=>{let{status:l,result:i,message:a,percent:m,estimatedRemainingTime:p}=s.data;l==="error"?o(a):l==="progress"?w(m,p):n(i)}})}var f=document.getElementById("fileInput"),y=document.getElementById("createPackButton"),T=document.getElementById("progress"),k=document.getElementById("timeRemaining"),c=document.getElementById("status");function B(){return d(this,null,function*(){try{c.innerText="Loading FFmpeg...",yield u("load"),c.innerText="FFmpeg loaded."}catch(e){c.innerText="Error loading FFmpeg.",console.error("Error loading FFmpeg:",e)}})}function I(e,t,n){return d(this,null,function*(){c.innerText="Creating BP and RP...";let o=new Uint8Array(yield e.arrayBuffer());yield u("createPack",[o,t,n]);let r=yield u("getPack"),s=document.createElement("a");s.href=URL.createObjectURL(r),s.download="generated_pack.mcaddon",s.click(),c.innerText="Pack creation complete!"})}y.addEventListener("click",()=>d(g,null,function*(){var o;let e=(o=f.files)==null?void 0:o[0];if(!e){alert("Please select a video file.");return}let t=parseInt(document.getElementById("frameCount").value),n=parseInt(document.getElementById("fps").value);try{yield I(e,t,n)}catch(r){c.innerText="Error during pack creation.",console.error("Error during pack creation:",r)}}));function w(e,t){T.style.width=`${e}%`,k.innerText=`Estimated Time Left: ${t}s`}B().catch(console.error)});L();})();
//# sourceMappingURL=main.js.map
